<h2>Total {{shoppingCartItemCount}} items in cart</h2>
<h3>{{cartService.getTotalPrice(cart)}}</h3>

<div fxFlexFill fxLayout="row" fxLayoutAlign="center start">
    <div 
    fxFlex="90" 
    fxFlex.xs="100" 
    fxLayout="column" 
    fxLAyoutAlign="center center" 
    class="wrapper"
    ngClass.gt-sm="p-1 border-primary"
    >
        <div fxFlex="50" fxLayout="column" class="mb-2" >
            <mat-form-field class="example-form-field">
                <mat-label>Search product</mat-label>
                <input (keyup)="filter($event)" matInput type="text" #input>
            </mat-form-field>
        </div>
        <div fxLayout="column">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container matColumnDef="Product Details">
                  <th mat-header-cell *matHeaderCellDef> Product Details </th>

                  <td mat-cell *matCellDef="let element"> 
                    <div 
                      fxLayout="row" 
                      ngClass.gt-sm="p-1" 
                      ngClass.sm="py-1" 
                      ngClass.lt-sm="py-1"
                      >
                      <img 
                          [src]=element.imageURL 
                          ngClass.gt-sm="product-img" 
                          ngClass.sm="product-img-sm" 
                          ngClass.lt-sm="product-img-sm"
                          >
                      <div class="px-1" fxLayout="column" fxLayoutAlign="start start">
                        <h2 class="mb-0">{{element.title}}</h2>
                        <p>desc {{element.description}}</p>

                        <!-- update quantity or delete -->
                        <app-product-quantity-update [item]="element"></app-product-quantity-update>

                      </div>
                    </div>
                  </td>

                </ng-container>

                <ng-container matColumnDef="price">
                  <th mat-header-cell *matHeaderCellDef>Price</th>
                  <td mat-cell *matCellDef="let element">{{cartService.getTotalItemPrice(element)}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                </tr>
            </table>
            <mat-paginator #paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
    </div>
</div>